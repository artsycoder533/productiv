(()=>{"use strict";var e={917:(e,t,n)=>{e.exports=n.p+"6d4b16957e06b7a61672.png"}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var d=t[o]={exports:{}};return e[o](d,d.exports,n),d.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{function e(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}function t(){const e=document.querySelector(".modal"),t=document.querySelector(".modal__form");e.classList.toggle("showModal"),t.reset()}function o(e,t){const n=document.createElement(e);return n.classList.add(t),n}function i(e,t,n){const o=document.createElement(e);return o.classList.add(t),o.textContent=n,o}function d(e,t,n,o){const i=document.createElement(e);return i.className=t,i.setAttribute(n,o),i}function r(e,t,n,r,l,u){const m=o("div","todo__container");m.setAttribute("data-id",u);const p=o("article","todo"),h=o("div","todo__date"),g=i("small","date",n);h.appendChild(g),p.appendChild(h);const y=o("div","todo__content"),v=i("div","todo__title",e),E=o("div","todo__priority"),f=i("small","priority",r);"high"===r?f.classList.add("high"):f.classList.add("normal"),E.appendChild(f),y.appendChild(v),y.appendChild(E);const _=o("div","todo__buttons"),C=d("button","todo__more","id","more"),I=o("i","fas");I.classList.add("fa-caret-down"),I.addEventListener("click",c),C.appendChild(I),_.appendChild(C);const b=d("button","todo__edit","id","edit"),L=o("i","fas");L.classList.add("fa-edit"),L.addEventListener("click",s),b.appendChild(L),_.appendChild(b);const x=d("button","todo__delete","id","delete"),S=o("i","fas");S.classList.add("fa-trash-alt"),S.addEventListener("click",a),x.appendChild(S),_.appendChild(x),y.append(_),p.appendChild(y);const k=i("div","todo__project",l);p.appendChild(k),m.appendChild(p);const B=o("div","todo__details"),q=o("p","description");return q.textContent=t,B.appendChild(q),m.appendChild(B),m}function c(e){e.currentTarget.parentElement.parentElement.parentElement.parentElement.nextElementSibling.classList.toggle("showDetails")}function a(e){const t=document.querySelector(".todos"),n=e.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement;var o;t.removeChild(n),o=n.dataset.id,f.forEach(((e,t)=>{e.getId()===Number(o)&&f.splice(t,1)}))}function s(e){const n=document.getElementById("form");document.querySelector(".form__heading").textContent="Edit Task";const o=function(e){const t=[];return f.forEach((n=>{n.getId()===Number(e)&&t.push(n)})),t[0]}(e.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement.dataset.id);document.querySelector(".modal"),t(),n.elements.namedItem("title").value=o.getTitle(),n.elements.namedItem("description").value=o.getDescription(),n.elements.namedItem("priority").value=o.getPriority(),n.elements.namedItem("project").value=o.getProject(),n.elements.namedItem("date").value=o.getDueDate(),document.getElementById("create").classList.add("hide");const i=document.getElementById("update");i.classList.remove("hide"),i.addEventListener("click",(()=>{const e=document.querySelector(".project__title");if(n.elements.namedItem("project").value===e.textContent)return function(e){const t=document.getElementById("form"),n=t.elements.namedItem("title").value,o=t.elements.namedItem("description").value,i=t.elements.namedItem("priority").value,d=t.elements.namedItem("project").value,r=t.elements.namedItem("date").value;document.querySelector(".todo__title").textContent=n,document.querySelector(".priority").textContent=i,"normal"===i?(document.querySelector(".priority").classList.remove("high"),document.querySelector(".priority").classList.add("normal")):"high"===i&&(document.querySelector(".priority").classList.remove("normal"),document.querySelector(".priority").classList.add("high")),document.querySelector(".todo__date").textContent=r,document.querySelector(".description").textContent=o,document.querySelector(".todo__project").textContent=d,x(n,o,r,i,d,e.getId())}(o),void t();const i=e.textContent,d=document.getElementById("miscellaneous"),r=document.getElementById("home"),c=document.getElementById("work"),a=n.elements.namedItem("title").value,s=n.elements.namedItem("description").value,l=n.elements.namedItem("priority").value,u=n.elements.namedItem("project").value,m=n.elements.namedItem("date").value;"work"===i&&(x(a,s,m,l,u,o.getId()),t(),c.click()),"home"===i&&(x(a,s,m,l,u,o.getId()),t(),r.click()),"miscellaneous"===i&&(x(a,s,m,l,u,o.getId()),t(),d.click())}))}o("section","todos");const l=document.querySelector(".container");function u(){[...l.children].forEach((e=>{e.remove()}))}const m=document.querySelector(".container");function p(e){[...m.children].forEach((e=>{e.remove()}));const t=o("h2","task__title");t.textContent="today"===e?"Due Today":e;const n=document.querySelector(".container"),i=o("section","todos");n.appendChild(t),n.appendChild(i)}function h(e){e.map((e=>{const{title:t,description:n,dueDate:o,priority:i,project:d,id:c}=e,a=document.querySelector(".todos");a.appendChild(r(t,n,o,i,d,c)),m.appendChild(a)}))}let g=0;function y(e){v();const t=document.querySelector(".container"),n=i("h2","inbox__title","Inbox");if(0===e.length){const e=document.createTextElementWithClass("p","inbox__status","Your inbox is empty");t.appendChild(n),t.appendChild(e)}else e.map((d=>{const r=o("div","inbox"),c=o("p","inbox__subject");c.textContent="You have a task that's due today";const a=function(e,t,n,o){const i=document.createElement("input");return i.setAttribute("type","checkbox"),i.setAttribute("name","checkbox"),i.setAttribute("id","checkbox"),i}();return r.addEventListener("click",(function(){!function(e,t,n){console.log(t),v();const d=document.querySelector(".container"),r=o("div","message__container"),c=i("h3","message__subject",t),a=i("p","message__title",e.title),s=i("p","message__priority",e.priority),l=i("p","message__date",e.dueDate),u=i("p","message__description",e.description),m=i("button","inbox__button","Back To Inbox");m.classList.add("button"),m.addEventListener("click",(function(){y(n)})),r.appendChild(c),r.appendChild(a),r.appendChild(s),r.appendChild(l),r.appendChild(u),r.appendChild(m),d.appendChild(r),E("subtract")}(d,c.textContent,e)})),r.appendChild(a),r.appendChild(c),t.appendChild(n),t.appendChild(r),t}));return t}function v(){[...document.querySelector(".container").children].forEach((e=>{e.remove()}))}function E(e){const t=document.getElementById("number"),n=document.getElementById("count");"add"===e?(g++,n.textContent=g,t.classList.add("number")):"subtract"===e&&(g--,g<1?(n.textContent="",t.classList.remove("number")):n.textContent=g)}const f=[],_=[];class C{constructor(e,t,n,o,i,d){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.project=i,this.id=d}getTitle(){return this.title}setTitle(e){this.title=e}getDescription(){return this.description}setDescription(e){this.description=e}getDueDate(){return this.dueDate}setDueDate(e){this.dueDate=e}getPriority(){return this.priority}setPriority(e){this.priority=e}getId(){return this.id}getProject(){return this.project}setProject(e){this.project=e}setId(e){this.id=e}}function I(e){const t=f.filter((t=>{for(const n in t)if(t[n]===e.currentTarget.id)return t}));!function(e){u();const t=o("h2","project__title");t.textContent=e;const n=document.querySelector(".container"),i=o("section","todos");n.appendChild(t),n.appendChild(i)}(e.currentTarget.id),t.map((e=>{const t=document.querySelector(".todos");t.appendChild(r(e.title,e.description,e.dueDate,e.priority,e.project,e.id)),l.appendChild(t)}))}function b(t){let n=[];"today"===t.currentTarget.id?n=f.filter((t=>t.dueDate===e())):"overdue"===t.currentTarget.id?n=f.filter((t=>t.dueDate<e())):"upcoming"===t.currentTarget.id&&(n=f.filter((t=>t.dueDate>e()))),p(t.currentTarget.id),h(n)}function L(e){p(e.currentTarget.id),h(f)}function x(e,t,n,o,i,d){f.forEach((r=>{r.getId()===Number(d)&&(r.setTitle(e),r.setDescription(t),r.setDueDate(n),r.setPriority(o),r.setProject(i))}))}function S(){y(_)}const k=[...document.querySelectorAll(".sidebar__link")],B=document.getElementById("work"),q=document.getElementById("home"),T=document.getElementById("miscellaneous");var D=n(917);function j(){document.querySelector(".sidebar").classList.toggle("hide")}function w(){document.querySelector(".header__upload").classList.toggle("visible")}function A(){const e=document.getElementById("profile"),t=document.querySelector(".header__image");if(this.files){const t=new FileReader;t.readAsDataURL(this.files[0]),t.addEventListener("load",(()=>{e.src=t.result}))}t.click()}window.addEventListener("DOMContentLoaded",(()=>{(function(){const e=document.getElementById("all"),t=document.getElementById("today"),n=document.getElementById("upcoming"),o=document.getElementById("overdue");e.addEventListener("click",L),t.addEventListener("click",b),n.addEventListener("click",b),o.addEventListener("click",b),B.addEventListener("click",I),q.addEventListener("click",I),T.addEventListener("click",I),document.getElementById("inbox").addEventListener("click",S),k.map((e=>{e.addEventListener("click",(e=>{!function(e){document.querySelector(".header__display").textContent=e.currentTarget.dataset.id,k.map((e=>{e.classList.remove("active")})),[...document.querySelectorAll(".sidebar__sublinks")].map((e=>{e.classList.contains("showSub")||e.classList.remove("showSub")})),e.currentTarget.nextElementSibling?(e.currentTarget.classList.toggle("active"),e.currentTarget.nextElementSibling.classList.toggle("showSub")):e.currentTarget.classList.add("active")}(e)}))}))})(),function(){const e=document.getElementById("hamburger"),t=document.querySelector(".header__image"),n=document.getElementById("imgUpload");!function(e){e.children[0].src=D}(t),e.addEventListener("click",j),n.addEventListener("change",A),t.addEventListener("click",w)}(),function(){const n=document.getElementById("add"),o=document.getElementById("create");n.addEventListener("click",(function(){document.querySelector(".form__heading").textContent="Add Task",t()}));const i=document.getElementById("close");document.getElementById("cancel").addEventListener("click",t),i.addEventListener("click",t),o.addEventListener("click",(n=>{!function(n){n.preventDefault();const o=document.getElementById("title").value,i=document.getElementById("description").value,d=document.getElementById("date").value,r=(document.getElementById("priority").value,document.getElementById("project").value,document.querySelector(".title__error")),c=document.querySelector(".message__error"),a=document.querySelector(".date__error");""===o.trim()&&(r.textContent="Title must not be blank",setTimeout((function(){r.textContent=" "}),2e3)),""===i.trim()&&(c.textContent="Message must not be blank",setTimeout((function(){c.textContent=" "}),2e3)),""===d&&(a.textContent="Please select a date",setTimeout((function(){a.textContent=" "}),2e3)),d<e()?(a.textContent="Date must not be in the past",setTimeout((function(){a.textContent=" "}),3e3)):function(n){n.preventDefault();const o=document.getElementById("title").value,i=document.getElementById("description").value,d=document.getElementById("date").value,r=document.getElementById("priority").value,c=document.getElementById("project").value,a=Math.random(),s=new C(o,i,d,r,c,a);f.push(s),d===e()&&(_.push(s),E("add")),t()}(n)}(n)}))}()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVU3SixZQUFjLE1BQ3pCLE1BRUhRLEVBQU83QixLQUVQa0wsRUFBVTdKLFlBQWMsK0JBQ3hCK0osWUFBVyxXQUNURixFQUFVN0osWUFBYyxNQUN2QixNR2NYLFNBQXNCbkMsR0FDckJBLEVBQUU2TCxpQkFDQyxNQUFNcEosRUFBUXBDLFNBQVM2RSxlQUFlLFNBQVNPLE1BQ3pDL0MsRUFBY3JDLFNBQVM2RSxlQUFlLGVBQWVPLE1BQ3JEOUMsRUFBT3RDLFNBQVM2RSxlQUFlLFFBQVFPLE1BQzFDN0MsRUFBV3ZDLFNBQVM2RSxlQUFlLFlBQVlPLE1BQy9DNUMsRUFBVXhDLFNBQVM2RSxlQUFlLFdBQVdPLE1BQzFDM0MsRUFBS3FKLEtBQUtDLFNBQ2JDLEVBQVUsSUFBSTFELEVBQ25CbEcsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FHRCxFQUFNdUMsS0FBS2dILEdBQ1AxSixJQUFTN0IsTUFDWjJHLEVBQU1wQyxLQUFLZ0gsR0FDWDlELEVBQWlCLFFBRWxCbkgsSUhqQ09rTCxDQUFhdE0sR0ExQ2J1TSxDQUFhdk0sTVNGakJ3TSxPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvZHVjdGl2L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3Byb2R1Y3Rpdi93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3Byb2R1Y3Rpdi93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9wcm9kdWN0aXYvLi9zcmMvc2NyaXB0cy9tb2RhbC5qcyIsIndlYnBhY2s6Ly9wcm9kdWN0aXYvLi9zcmMvc2NyaXB0cy9jcmVhdGVFbGVtZW50LmpzIiwid2VicGFjazovL3Byb2R1Y3Rpdi8uL3NyYy9zY3JpcHRzL3JlbmRlclRvZG8uanMiLCJ3ZWJwYWNrOi8vcHJvZHVjdGl2Ly4vc3JjL3NjcmlwdHMvdG9kby5qcyIsIndlYnBhY2s6Ly9wcm9kdWN0aXYvLi9zcmMvc2NyaXB0cy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly9wcm9kdWN0aXYvLi9zcmMvc2NyaXB0cy90YXNrcy5qcyIsIndlYnBhY2s6Ly9wcm9kdWN0aXYvLi9zcmMvc2NyaXB0cy9pbmJveC5qcyIsIndlYnBhY2s6Ly9wcm9kdWN0aXYvLi9zcmMvc2NyaXB0cy9zaWRlYmFyLmpzIiwid2VicGFjazovL3Byb2R1Y3Rpdi8uL3NyYy9zY3JpcHRzL2hlYWRlci5qcyIsIndlYnBhY2s6Ly9wcm9kdWN0aXYvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJpbXBvcnQge3BvcHVsYXRlVG9kb30gZnJvbSBcIi4vdG9kby5qc1wiXHJcblxyXG5mdW5jdGlvbiBhZGRCdXR0b25FdmVudHMoKSB7XHJcbiAgICBjb25zdCBhZGRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZFwiKTtcclxuICAgIGNvbnN0IGNyZWF0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3JlYXRlXCIpO1xyXG4gICAgYWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2hlYWRpbmdcIik7XHJcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBcIkFkZCBUYXNrXCI7XHJcbiAgICAgICAgdG9nZ2xlTW9kYWwoKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlXCIpO1xyXG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW5jZWxcIik7XHJcbiAgICBjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZU1vZGFsKTtcclxuICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVNb2RhbCk7XHJcbiAgICBjcmVhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKT0+e1xyXG4gICAgICAgIHZhbGlkYXRlRm9ybShlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUZvcm0oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlO1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xyXG4gICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZVwiKS52YWx1ZTtcclxuICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eVwiKS52YWx1ZTtcclxuICAgIGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RcIikudmFsdWU7XHJcbiAgICBjb25zdCB0aXRsZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aXRsZV9fZXJyb3JcIik7XHJcbiAgICBjb25zdCBtZXNzYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VfX2Vycm9yXCIpO1xyXG4gICAgY29uc3QgZGF0ZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kYXRlX19lcnJvclwiKTtcclxuICAgIFxyXG4gICAgaWYgKHRpdGxlLnRyaW0oKSA9PT0gXCJcIikge1xyXG4gICAgICAgIHRpdGxlRXJyb3IudGV4dENvbnRlbnQgPSBcIlRpdGxlIG11c3Qgbm90IGJlIGJsYW5rXCI7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRpdGxlRXJyb3IudGV4dENvbnRlbnQgPSBcIiBcIjtcclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGlmIChkZXNjcmlwdGlvbi50cmltKCk9PT0gXCJcIikge1xyXG4gICAgICAgIG1lc3NhZ2VFcnJvci50ZXh0Q29udGVudCA9IFwiTWVzc2FnZSBtdXN0IG5vdCBiZSBibGFua1wiO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtZXNzYWdlRXJyb3IudGV4dENvbnRlbnQgPSBcIiBcIjtcclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuICAgIGlmIChkYXRlID09PSBcIlwiKSB7XHJcbiAgICAgICAgZGF0ZUVycm9yLnRleHRDb250ZW50ID0gXCJQbGVhc2Ugc2VsZWN0IGEgZGF0ZVwiO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkYXRlRXJyb3IudGV4dENvbnRlbnQgPSBcIiBcIjtcclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuICAgIGlmIChkYXRlIDwgZ2V0VG9kYXlzRGF0ZSgpKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZGF0ZUVycm9yLnRleHRDb250ZW50ID0gXCJEYXRlIG11c3Qgbm90IGJlIGluIHRoZSBwYXN0XCI7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBkYXRlRXJyb3IudGV4dENvbnRlbnQgPSBcIiBcIjtcclxuICAgICAgICB9LCAzMDAwKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHBvcHVsYXRlVG9kbyhlKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VG9kYXlzRGF0ZSgpIHtcclxuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IHllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgY29uc3QgbW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMTtcclxuICAgIGNvbnN0IGRheSA9IGN1cnJlbnREYXRlLmdldERhdGUoKTtcclxuICAgIGNvbnN0IGZ1bGxEYXRlID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDtcclxuICAgIHJldHVybiBmdWxsRGF0ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlTW9kYWwoKSB7XHJcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIG1vZGFsLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93TW9kYWxcIik7XHJcbiAgICBmb3JtLnJlc2V0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGFkZEJ1dHRvbkV2ZW50cywgdG9nZ2xlTW9kYWwsIGdldFRvZGF5c0RhdGUgfTsiLCJcclxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhDbGFzcyh0eXBlLCBjbGFzc05hbWUpIHtcclxuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcclxuICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgIHJldHVybiBlbDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlVGV4dEVsZW1lbnRXaXRoQ2xhc3ModHlwZSwgY2xhc3NOYW1lLCB0ZXh0KSB7XHJcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XHJcbiAgICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICByZXR1cm4gZWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUltYWdlV2l0aElkKHR5cGUsIHNyYywgYWx0LCBpZCkge1xyXG4gICAgY29uc3QgZWwgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGVsLnNyYyA9IHNyYztcclxuICAgIGVsLnNldEF0dHJpYnV0ZShcImFsdFwiLCBhbHQpO1xyXG4gICAgZWwuc2V0QXR0cmlidXRlKFwiaWRcIiwgaWQpO1xyXG4gICAgcmV0dXJuIGVsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVUZXh0RWxlbWVudFdpdGhJZCh0eXBlLCBjbGFzc05hbWUsIHRleHQsIGlkKSB7XHJcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XHJcbiAgICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpZCk7XHJcbiAgICByZXR1cm4gZWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRXaXRoQXR0cmlidXRlKHR5cGUsIGNsYXNzTmFtZSwgYXR0ciwgYXR0ck5hbWUpIHtcclxuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcclxuICAgIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyTmFtZSk7XHJcbiAgICByZXR1cm4gZWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxhYmVsRWxlbWVudCh0eXBlLCBhdHRyLCB0ZXh0KSB7XHJcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XHJcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgYXR0cik7XHJcbiAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICByZXR1cm4gZWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUlucHV0RWxlbWVudCh0eXBlLCBhdHRyLCBuYW1lLCBpZCkge1xyXG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xyXG4gICAgZWwuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBhdHRyKTtcclxuICAgIGVsLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgbmFtZSk7XHJcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpZCk7XHJcbiAgICByZXR1cm4gZWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVRleHRBcmVhKHR5cGUsIG5hbWUsIGlkLCBjb2wsIHJvdykge1xyXG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xyXG4gICAgZWwuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBuYW1lKTtcclxuICAgIGVsLnNldEF0dHJpYnV0ZShcImlkXCIsIGlkKTtcclxuICAgIGVsLnNldEF0dHJpYnV0ZShcImNvbHNcIiwgY29sKTtcclxuICAgIGVsLnNldEF0dHJpYnV0ZShcInJvd3NcIiwgcm93KTtcclxuICAgIHJldHVybiBlbDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhUd29BdHRyaWJ1dGVzKHR5cGUsIGF0dHIxLCBhdHRyMU5hbWUsIGF0dHIyLCBhdHRyMk5hbWUpe1xyXG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xyXG4gICAgZWwuc2V0QXR0cmlidXRlKGF0dHIxLCBhdHRyMU5hbWUpO1xyXG4gICAgZWwuc2V0QXR0cmlidXRlKGF0dHIyLCBhdHRyMk5hbWUpO1xyXG4gICAgcmV0dXJuIGVsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVPcHRpb24odmFsdWUsIHRleHQpIHtcclxuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIGVsLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHZhbHVlKTtcclxuICAgIGVsLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIHJldHVybiBlbDtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgeyBjcmVhdGVFbGVtZW50V2l0aENsYXNzLCBjcmVhdGVUZXh0RWxlbWVudFdpdGhDbGFzcywgY3JlYXRlSW1hZ2VXaXRoSWQsIGNyZWF0ZVRleHRFbGVtZW50V2l0aElkLCBjcmVhdGVFbGVtZW50V2l0aEF0dHJpYnV0ZSwgY3JlYXRlTGFiZWxFbGVtZW50LCBjcmVhdGVJbnB1dEVsZW1lbnQsIGNyZWF0ZVRleHRBcmVhLCBjcmVhdGVFbGVtZW50V2l0aFR3b0F0dHJpYnV0ZXMsIGNyZWF0ZU9wdGlvbiB9O1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50V2l0aENsYXNzLCBjcmVhdGVUZXh0RWxlbWVudFdpdGhDbGFzcywgY3JlYXRlRWxlbWVudFdpdGhBdHRyaWJ1dGUgfSBmcm9tIFwiLi9jcmVhdGVFbGVtZW50LmpzXCI7XHJcbmltcG9ydCB7IHRvZ2dsZU1vZGFsIH0gZnJvbSBcIi4vbW9kYWwuanNcIjtcclxuaW1wb3J0IHsgZ2V0VG9kb0J5SWQsIHVwZGF0ZVRvZG8sIGRlbGV0ZVRvZG99IGZyb20gXCIuL3RvZG8uanNcIjtcclxuXHJcbmNvbnN0IHRvZG9zID0gY3JlYXRlRWxlbWVudFdpdGhDbGFzcyhcInNlY3Rpb25cIiwgXCJ0b2Rvc1wiKTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlclRvZG8odGl0bGUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdCwgaWQpIHtcclxuICAgIGNvbnN0IHRvZG9fX2NvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoXCJkaXZcIiwgXCJ0b2RvX19jb250YWluZXJcIik7XHJcbiAgICB0b2RvX19jb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBpZCk7XHJcbiAgICBjb25zdCB0b2RvID0gY3JlYXRlRWxlbWVudFdpdGhDbGFzcyhcImFydGljbGVcIiwgXCJ0b2RvXCIpO1xyXG4gICAgY29uc3QgdG9kb19fZGF0ZSA9IGNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoXCJkaXZcIiwgXCJ0b2RvX19kYXRlXCIpO1xyXG4gICAgY29uc3QgZGF0ZTEgPSBjcmVhdGVUZXh0RWxlbWVudFdpdGhDbGFzcyhcInNtYWxsXCIsIFwiZGF0ZVwiLCBkYXRlKTtcclxuICAgIHRvZG9fX2RhdGUuYXBwZW5kQ2hpbGQoZGF0ZTEpO1xyXG4gICAgdG9kby5hcHBlbmRDaGlsZCh0b2RvX19kYXRlKTtcclxuXHJcbiAgICBjb25zdCB0b2RvX19jb250ZW50ID0gY3JlYXRlRWxlbWVudFdpdGhDbGFzcyhcImRpdlwiLCBcInRvZG9fX2NvbnRlbnRcIik7XHJcbiAgICBjb25zdCB0b2RvX190aXRsZSA9IGNyZWF0ZVRleHRFbGVtZW50V2l0aENsYXNzKFwiZGl2XCIsIFwidG9kb19fdGl0bGVcIiwgdGl0bGUpO1xyXG4gICAgY29uc3QgdG9kb19fcHJpb3JpdHkgPSBjcmVhdGVFbGVtZW50V2l0aENsYXNzKFwiZGl2XCIsIFwidG9kb19fcHJpb3JpdHlcIik7XHJcblxyXG4gICAgY29uc3QgcHJpb3JpdHkxID0gY3JlYXRlVGV4dEVsZW1lbnRXaXRoQ2xhc3MoXCJzbWFsbFwiLCBcInByaW9yaXR5XCIsIHByaW9yaXR5KTtcclxuICAgIGlmIChwcmlvcml0eSA9PT0gXCJoaWdoXCIpIHtcclxuICAgICAgICBwcmlvcml0eTEuY2xhc3NMaXN0LmFkZChcImhpZ2hcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBwcmlvcml0eTEuY2xhc3NMaXN0LmFkZChcIm5vcm1hbFwiKTtcclxuICAgIH1cclxuICAgIHRvZG9fX3ByaW9yaXR5LmFwcGVuZENoaWxkKHByaW9yaXR5MSk7XHJcbiAgICB0b2RvX19jb250ZW50LmFwcGVuZENoaWxkKHRvZG9fX3RpdGxlKTtcclxuICAgIHRvZG9fX2NvbnRlbnQuYXBwZW5kQ2hpbGQodG9kb19fcHJpb3JpdHkpO1xyXG5cclxuICAgIC8vdG9kbyBidXR0b25zXHJcbiAgICBjb25zdCB0b2RvX19idXR0b25zID0gY3JlYXRlRWxlbWVudFdpdGhDbGFzcyhcImRpdlwiLCBcInRvZG9fX2J1dHRvbnNcIik7XHJcbiAgICBjb25zdCB0b2RvX19tb3JlID0gY3JlYXRlRWxlbWVudFdpdGhBdHRyaWJ1dGUoXCJidXR0b25cIiwgXCJ0b2RvX19tb3JlXCIsIFwiaWRcIiwgXCJtb3JlXCIpO1xyXG4gICAgY29uc3QgbW9yZUJ0biA9IGNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoXCJpXCIsIFwiZmFzXCIpO1xyXG4gICAgbW9yZUJ0bi5jbGFzc0xpc3QuYWRkKFwiZmEtY2FyZXQtZG93blwiKTtcclxuICAgIG1vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNob3dEZXRhaWxzKTtcclxuICAgIHRvZG9fX21vcmUuYXBwZW5kQ2hpbGQobW9yZUJ0bik7XHJcbiAgICB0b2RvX19idXR0b25zLmFwcGVuZENoaWxkKHRvZG9fX21vcmUpO1xyXG4gICAgY29uc3QgdG9kb19fZWRpdCA9IGNyZWF0ZUVsZW1lbnRXaXRoQXR0cmlidXRlKFwiYnV0dG9uXCIsIFwidG9kb19fZWRpdFwiLCBcImlkXCIsIFwiZWRpdFwiKTtcclxuICAgIGNvbnN0IGVkaXRCdG4gPSBjcmVhdGVFbGVtZW50V2l0aENsYXNzKFwiaVwiLCBcImZhc1wiKTtcclxuICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImZhLWVkaXRcIik7XHJcbiAgICBlZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlZGl0VG9kbyk7XHJcbiAgICB0b2RvX19lZGl0LmFwcGVuZENoaWxkKGVkaXRCdG4pO1xyXG4gICAgdG9kb19fYnV0dG9ucy5hcHBlbmRDaGlsZCh0b2RvX19lZGl0KTtcclxuICAgIGNvbnN0IHRvZG9fX2RlbGV0ZSA9IGNyZWF0ZUVsZW1lbnRXaXRoQXR0cmlidXRlKFwiYnV0dG9uXCIsIFwidG9kb19fZGVsZXRlXCIsIFwiaWRcIiwgXCJkZWxldGVcIik7XHJcbiAgICBjb25zdCBkZWxldGVCdG4gPSBjcmVhdGVFbGVtZW50V2l0aENsYXNzKFwiaVwiLCBcImZhc1wiKTtcclxuICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwiZmEtdHJhc2gtYWx0XCIpO1xyXG4gICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkZWxldGVUb2RvVUkpO1xyXG4gICAgdG9kb19fZGVsZXRlLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XHJcbiAgICB0b2RvX19idXR0b25zLmFwcGVuZENoaWxkKHRvZG9fX2RlbGV0ZSk7XHJcbiAgICB0b2RvX19jb250ZW50LmFwcGVuZCh0b2RvX19idXR0b25zKTtcclxuICAgIHRvZG8uYXBwZW5kQ2hpbGQodG9kb19fY29udGVudCk7XHJcblxyXG4gICAgY29uc3QgdG9kb19fcHJvamVjdCA9IGNyZWF0ZVRleHRFbGVtZW50V2l0aENsYXNzKFwiZGl2XCIsIFwidG9kb19fcHJvamVjdFwiLCBwcm9qZWN0KTtcclxuICAgIHRvZG8uYXBwZW5kQ2hpbGQodG9kb19fcHJvamVjdCk7XHJcbiAgICB0b2RvX19jb250YWluZXIuYXBwZW5kQ2hpbGQodG9kbyk7XHJcbiAgICBcclxuXHJcbiAgICAvLyBkZXNjcmlwdGlvblxyXG4gICAgY29uc3QgdG9kb19fZGV0YWlscyA9IGNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoXCJkaXZcIiwgXCJ0b2RvX19kZXRhaWxzXCIpO1xyXG4gICAgY29uc3QgdG9kb19fZGVzY3JpcHRpb24gPSBjcmVhdGVFbGVtZW50V2l0aENsYXNzKFwicFwiLCBcImRlc2NyaXB0aW9uXCIpO1xyXG4gICAgdG9kb19fZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICAgIHRvZG9fX2RldGFpbHMuYXBwZW5kQ2hpbGQodG9kb19fZGVzY3JpcHRpb24pO1xyXG4gICAgdG9kb19fY29udGFpbmVyLmFwcGVuZENoaWxkKHRvZG9fX2RldGFpbHMpO1xyXG4gICAgcmV0dXJuIHRvZG9fX2NvbnRhaW5lcjtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0RldGFpbHMoZSkge1xyXG4gICAgZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoXHJcblx0XHRcdFwic2hvd0RldGFpbHNcIlxyXG5cdFx0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlVG9kb1VJKGUpIHtcclxuICAgIGNvbnN0IHRvZG9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2Rvc1wiKTtcclxuICAgIGNvbnN0IHRvZG8gPVxyXG5cdFx0XHRlLmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudFxyXG4gICAgICAgICAgICAucGFyZW50RWxlbWVudDtcclxuICAgIHRvZG9zLnJlbW92ZUNoaWxkKHRvZG8pO1xyXG4gICAgZGVsZXRlVG9kbyh0b2RvLmRhdGFzZXQuaWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlZGl0VG9kbyhlKSB7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtXCIpO1xyXG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2hlYWRpbmdcIik7XHJcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9IFwiRWRpdCBUYXNrXCI7XHJcblx0Y29uc3QgdG9kbzIgPSBnZXRUb2RvQnlJZChcclxuXHRcdGUuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50XHJcblx0XHRcdC5wYXJlbnRFbGVtZW50LmRhdGFzZXQuaWRcclxuICAgICk7XHJcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XHJcbiAgICB0b2dnbGVNb2RhbCgpO1xyXG4gICAgZm9ybS5lbGVtZW50cy5uYW1lZEl0ZW0oXCJ0aXRsZVwiKS52YWx1ZSA9IHRvZG8yLmdldFRpdGxlKCk7XHJcbiAgICBmb3JtLmVsZW1lbnRzLm5hbWVkSXRlbShcImRlc2NyaXB0aW9uXCIpLnZhbHVlID0gdG9kbzIuZ2V0RGVzY3JpcHRpb24oKTtcclxuICAgIGZvcm0uZWxlbWVudHMubmFtZWRJdGVtKFwicHJpb3JpdHlcIikudmFsdWUgPSB0b2RvMi5nZXRQcmlvcml0eSgpO1xyXG4gICAgZm9ybS5lbGVtZW50cy5uYW1lZEl0ZW0oXCJwcm9qZWN0XCIpLnZhbHVlID0gdG9kbzIuZ2V0UHJvamVjdCgpO1xyXG4gICAgZm9ybS5lbGVtZW50cy5uYW1lZEl0ZW0oXCJkYXRlXCIpLnZhbHVlID0gdG9kbzIuZ2V0RHVlRGF0ZSgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBjcmVhdGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZVwiKTtcclxuICAgIGNyZWF0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcclxuICAgIGNvbnN0IHVwZGF0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXBkYXRlXCIpO1xyXG4gICAgdXBkYXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xyXG4gICAgdXBkYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdF9fdGl0bGVcIik7XHJcbiAgICAgICAgLy9nZXQgY3VycmVudCBwcm9qZWN0IHBhZ2UgeW91cmUgb24gaXMgdGhlIHNhbWUgYXMgbmV3IHByb2plY3QsIHJlIHJlbmRlciBVSVxyXG4gICAgICAgIGlmIChmb3JtLmVsZW1lbnRzLm5hbWVkSXRlbShcInByb2plY3RcIikudmFsdWUgPT09IGRpc3BsYXkudGV4dENvbnRlbnQpIHtcclxuICAgICAgICAgICAgdXBkYXRlVG9kb1VJKHRvZG8yKTtcclxuICAgICAgICAgICAgdG9nZ2xlTW9kYWwoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGNvbnN0IHByb2plY3RUeXBlID0gZGlzcGxheS50ZXh0Q29udGVudDtcclxuICAgICAgICBjb25zdCBtaXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNjZWxsYW5lb3VzXCIpO1xyXG4gICAgICAgIGNvbnN0IGhvbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhvbWVcIik7XHJcbiAgICAgICAgY29uc3Qgd29yayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid29ya1wiKTtcclxuICAgICAgICBjb25zdCB0aXRsZSA9IGZvcm0uZWxlbWVudHMubmFtZWRJdGVtKFwidGl0bGVcIikudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBmb3JtLmVsZW1lbnRzLm5hbWVkSXRlbShcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHByaW9yaXR5ID0gZm9ybS5lbGVtZW50cy5uYW1lZEl0ZW0oXCJwcmlvcml0eVwiKS52YWx1ZTtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gZm9ybS5lbGVtZW50cy5uYW1lZEl0ZW0oXCJwcm9qZWN0XCIpLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBmb3JtLmVsZW1lbnRzLm5hbWVkSXRlbShcImRhdGVcIikudmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChwcm9qZWN0VHlwZSA9PT0gXCJ3b3JrXCIpIHtcclxuICAgICAgICAgICAgdXBkYXRlVG9kbyh0aXRsZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5LCBwcm9qZWN0LCB0b2RvMi5nZXRJZCgpKTtcclxuICAgICAgICAgICAgdG9nZ2xlTW9kYWwoKTtcclxuICAgICAgICAgICAgd29yay5jbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvamVjdFR5cGUgPT09IFwiaG9tZVwiKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvZG8odGl0bGUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdCwgdG9kbzIuZ2V0SWQoKSk7XHJcbiAgICAgICAgICAgIHRvZ2dsZU1vZGFsKCk7XHJcbiAgICAgICAgICAgIGhvbWUuY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb2plY3RUeXBlID09PSBcIm1pc2NlbGxhbmVvdXNcIikge1xyXG4gICAgICAgICAgICB1cGRhdGVUb2RvKHRpdGxlLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3QsIHRvZG8yLmdldElkKCkpO1xyXG4gICAgICAgICAgICB0b2dnbGVNb2RhbCgpO1xyXG4gICAgICAgICAgICBtaXNjLmNsaWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRvZG9VSSh0b2RvKSB7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtXCIpO1xyXG4gICAgY29uc3QgdGl0bGUgPSBmb3JtLmVsZW1lbnRzLm5hbWVkSXRlbShcInRpdGxlXCIpLnZhbHVlO1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBmb3JtLmVsZW1lbnRzLm5hbWVkSXRlbShcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xyXG4gICAgY29uc3QgcHJpb3JpdHkgPSBmb3JtLmVsZW1lbnRzLm5hbWVkSXRlbShcInByaW9yaXR5XCIpLnZhbHVlO1xyXG4gICAgY29uc3QgcHJvamVjdCA9IGZvcm0uZWxlbWVudHMubmFtZWRJdGVtKFwicHJvamVjdFwiKS52YWx1ZTtcclxuICAgIGNvbnN0IGRhdGUgPSBmb3JtLmVsZW1lbnRzLm5hbWVkSXRlbShcImRhdGVcIikudmFsdWU7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG9fX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGl0bGU7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByaW9yaXR5XCIpLnRleHRDb250ZW50ID0gcHJpb3JpdHk7XHJcbiAgICBpZiAocHJpb3JpdHkgPT09IFwibm9ybWFsXCIpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByaW9yaXR5XCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWdoXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJpb3JpdHlcIikuY2xhc3NMaXN0LmFkZChcIm5vcm1hbFwiKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByaW9yaXR5ID09PSBcImhpZ2hcIikge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJpb3JpdHlcIikuY2xhc3NMaXN0LnJlbW92ZShcIm5vcm1hbFwiKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByaW9yaXR5XCIpLmNsYXNzTGlzdC5hZGQoXCJoaWdoXCIpO1xyXG4gICAgfVxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvX19kYXRlXCIpLnRleHRDb250ZW50ID0gZGF0ZTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVzY3JpcHRpb25cIikudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb19fcHJvamVjdFwiKS50ZXh0Q29udGVudCA9IHByb2plY3Q7XHJcblxyXG4gICAgdXBkYXRlVG9kbyh0aXRsZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5LCBwcm9qZWN0LCB0b2RvLmdldElkKCkpO1xyXG4gICAgXHJcbn1cclxuXHJcbmV4cG9ydCB7IHJlbmRlclRvZG8gfTsiLCJpbXBvcnQgeyB0b2dnbGVNb2RhbCwgZ2V0VG9kYXlzRGF0ZSB9IGZyb20gXCIuL21vZGFsLmpzXCI7XHJcbmltcG9ydCB7IHJlbmRlclByb2plY3RVSSwgcmVuZGVyUHJvamVjdEhlYWRlciB9IGZyb20gXCIuL3Byb2plY3RzLmpzXCI7XHJcbmltcG9ydCB7IHJlbmRlclRhc2tzVUksIHJlbmRlclRhc2tzSGVhZGVyIH0gZnJvbSBcIi4vdGFza3MuanNcIjtcclxuaW1wb3J0IHsgcmVuZGVyVG9kbyB9IGZyb20gXCIuL3JlbmRlclRvZG8uanNcIjtcclxuaW1wb3J0IHsgc2hvd0luYm94LCB1cGRhdGVJbmJveENvdW50IH0gZnJvbSBcIi4vaW5ib3guanNcIjtcclxuXHJcbmNvbnN0IHRvZG9zID0gW107XHJcbmNvbnN0IGluYm94ID0gW107XHJcblxyXG5jbGFzcyBUb2RvcyB7XHJcblx0Y29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgcHJvamVjdCwgaWQpIHtcclxuXHRcdHRoaXMudGl0bGUgPSB0aXRsZTtcclxuXHRcdHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuXHRcdHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcblx0XHR0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcblx0XHR0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG5cdFx0dGhpcy5pZCA9IGlkO1xyXG5cdH1cclxuXHJcblx0Z2V0VGl0bGUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy50aXRsZTtcclxuXHR9XHJcblxyXG5cdHNldFRpdGxlKHRpdGxlKSB7XHJcblx0XHR0aGlzLnRpdGxlID0gdGl0bGU7XHJcblx0fVxyXG5cclxuXHRnZXREZXNjcmlwdGlvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLmRlc2NyaXB0aW9uO1xyXG5cdH1cclxuXHJcblx0c2V0RGVzY3JpcHRpb24oZGVzY3JpcHRpb24pIHtcclxuXHRcdHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuXHR9XHJcblxyXG5cdGdldER1ZURhdGUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5kdWVEYXRlO1xyXG5cdH1cclxuXHJcblx0c2V0RHVlRGF0ZShkdWVEYXRlKSB7XHJcblx0XHR0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xyXG5cdH1cclxuXHJcblx0Z2V0UHJpb3JpdHkoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcmlvcml0eTtcclxuXHR9XHJcblxyXG5cdHNldFByaW9yaXR5KHByaW9yaXR5KSB7XHJcblx0XHR0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcblx0fVxyXG5cclxuXHRnZXRJZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlkO1xyXG5cdH1cclxuXHJcblx0Z2V0UHJvamVjdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLnByb2plY3Q7XHJcblx0fVxyXG5cclxuXHRzZXRQcm9qZWN0KHByb2plY3QpIHtcclxuXHRcdHRoaXMucHJvamVjdCA9IHByb2plY3Q7XHJcblx0fVxyXG5cclxuXHRzZXRJZChpZCkge1xyXG5cdFx0dGhpcy5pZCA9IGlkO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcG9wdWxhdGVUb2RvKGUpIHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWU7XHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIikudmFsdWU7XHJcbiAgICBjb25zdCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlXCIpLnZhbHVlO1xyXG5cdGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eVwiKS52YWx1ZTtcclxuXHRjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0XCIpLnZhbHVlO1xyXG4gICAgY29uc3QgaWQgPSBNYXRoLnJhbmRvbSgpO1xyXG5cdGNvbnN0IG5ld1RvZG8gPSBuZXcgVG9kb3MoXHJcblx0XHR0aXRsZSxcclxuXHRcdGRlc2NyaXB0aW9uLFxyXG5cdFx0ZGF0ZSxcclxuXHRcdHByaW9yaXR5LFxyXG5cdFx0cHJvamVjdCxcclxuXHRcdGlkXHJcbiAgICApO1xyXG5cclxuXHR0b2Rvcy5wdXNoKG5ld1RvZG8pO1xyXG5cdGlmIChkYXRlID09PSBnZXRUb2RheXNEYXRlKCkpIHtcclxuXHRcdGluYm94LnB1c2gobmV3VG9kbyk7XHJcblx0XHR1cGRhdGVJbmJveENvdW50KFwiYWRkXCIpO1xyXG5cdH1cclxuXHR0b2dnbGVNb2RhbCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzb3J0VG9kb3NCeVByb2plY3QoZSkge1xyXG5cdGNvbnN0IHNvcnRlZEJ5UHJvamVjdCA9IHRvZG9zLmZpbHRlcih0b2RvID0+IHtcclxuXHRcdGZvciAoY29uc3QgcHJvcCBpbiB0b2RvKSB7XHJcblx0XHRcdGlmICh0b2RvW3Byb3BdID09PSBlLmN1cnJlbnRUYXJnZXQuaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdG9kbztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4gICAgICAgIFxyXG4gICAgfSk7XHJcblx0cmVuZGVyUHJvamVjdEhlYWRlcihlLmN1cnJlbnRUYXJnZXQuaWQpO1xyXG5cdHJlbmRlclByb2plY3RVSShzb3J0ZWRCeVByb2plY3QpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzb3J0VG9kb3NCeVRhc2soZSkge1xyXG5cdGxldCBzb3J0ZWRUb2RvcyA9IFtdO1xyXG5cdGlmIChlLmN1cnJlbnRUYXJnZXQuaWQgPT09IFwidG9kYXlcIikge1xyXG5cdFx0c29ydGVkVG9kb3MgPSB0b2Rvcy5maWx0ZXIoKHRvZG8pID0+IHtcclxuXHRcdFx0cmV0dXJuIHRvZG8uZHVlRGF0ZSA9PT0gZ2V0VG9kYXlzRGF0ZSgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdGVsc2UgaWYgKGUuY3VycmVudFRhcmdldC5pZCA9PT0gXCJvdmVyZHVlXCIpIHtcclxuXHRcdHNvcnRlZFRvZG9zID0gdG9kb3MuZmlsdGVyKHRvZG8gPT4ge1xyXG5cdFx0XHRyZXR1cm4gdG9kby5kdWVEYXRlIDwgZ2V0VG9kYXlzRGF0ZSgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdGVsc2UgaWYgKGUuY3VycmVudFRhcmdldC5pZCA9PT0gXCJ1cGNvbWluZ1wiKSB7XHJcblx0XHRzb3J0ZWRUb2RvcyA9IHRvZG9zLmZpbHRlcih0b2RvID0+IHtcclxuXHRcdFx0cmV0dXJuIHRvZG8uZHVlRGF0ZSA+IGdldFRvZGF5c0RhdGUoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRyZW5kZXJUYXNrc0hlYWRlcihlLmN1cnJlbnRUYXJnZXQuaWQpO1xyXG4gIFx0cmVuZGVyVGFza3NVSShzb3J0ZWRUb2Rvcyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dBbGxUYXNrcyhlKSB7XHJcblx0cmVuZGVyVGFza3NIZWFkZXIoZS5jdXJyZW50VGFyZ2V0LmlkKTtcclxuICBcdHJlbmRlclRhc2tzVUkodG9kb3MpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUb2RvQnlJZChpZCkge1xyXG5cdGNvbnN0IG1hdGNoID0gW107XHJcblx0dG9kb3MuZm9yRWFjaCh0b2RvID0+IHtcclxuXHRcdGlmICh0b2RvLmdldElkKCkgPT09IE51bWJlcihpZCkpIHtcclxuXHRcdFx0bWF0Y2gucHVzaCh0b2RvKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRyZXR1cm4gbWF0Y2hbMF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRvZG8odGl0bGUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdCwgaWQpIHtcclxuXHR0b2Rvcy5mb3JFYWNoKHRvZG8gPT4ge1xyXG5cdFx0aWYgKHRvZG8uZ2V0SWQoKSA9PT0gTnVtYmVyKGlkKSkge1xyXG5cdFx0XHR0b2RvLnNldFRpdGxlKHRpdGxlKTtcclxuXHRcdFx0dG9kby5zZXREZXNjcmlwdGlvbihkZXNjcmlwdGlvbik7XHJcblx0XHRcdHRvZG8uc2V0RHVlRGF0ZShkYXRlKTtcclxuXHRcdFx0dG9kby5zZXRQcmlvcml0eShwcmlvcml0eSk7XHJcblx0XHRcdHRvZG8uc2V0UHJvamVjdChwcm9qZWN0KTtcclxuXHRcdH1cclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlVG9kbyhpZCkge1xyXG5cdHRvZG9zLmZvckVhY2goKHRvZG8sIGluZGV4KSA9PiB7XHJcblx0XHRpZiAodG9kby5nZXRJZCgpID09PSBOdW1iZXIoaWQpKSB7XHJcblx0XHRcdHRvZG9zLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEluYm94KCkge1xyXG5cdHNob3dJbmJveChpbmJveCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7cG9wdWxhdGVUb2RvLCBzb3J0VG9kb3NCeVByb2plY3QsIGdldFRvZG9CeUlkLCB1cGRhdGVUb2RvLCBkZWxldGVUb2RvLCBzaG93QWxsVGFza3MsIHNvcnRUb2Rvc0J5VGFzaywgZ2V0SW5ib3ggfTsiLCJpbXBvcnQgeyByZW5kZXJUb2RvIH0gZnJvbSBcIi4vcmVuZGVyVG9kby5qc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50V2l0aENsYXNzIH0gZnJvbSBcIi4vY3JlYXRlRWxlbWVudC5qc1wiO1xyXG5cclxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cclxuZnVuY3Rpb24gcmVuZGVyUHJvamVjdEhlYWRlcihwcm9qZWN0SWQpIHtcclxuICAgIGNsZWFyUHJvamVjdHNVSSgpO1xyXG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gY3JlYXRlRWxlbWVudFdpdGhDbGFzcyhcImgyXCIsIFwicHJvamVjdF9fdGl0bGVcIik7XHJcbiAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0SWQ7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuICAgIGNvbnN0IHRvZG9zID0gY3JlYXRlRWxlbWVudFdpdGhDbGFzcyhcInNlY3Rpb25cIiwgXCJ0b2Rvc1wiKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0VGl0bGUpO1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRvZG9zKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclByb2plY3RVSShwcm9qZWN0cykge1xyXG4gICAgcHJvamVjdHMubWFwKHByb2plY3QgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRvZG9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2Rvc1wiKTtcclxuICAgICAgICB0b2Rvcy5hcHBlbmRDaGlsZChcclxuXHRcdFx0XHRcdHJlbmRlclRvZG8oXHJcblx0XHRcdFx0XHRcdHByb2plY3QudGl0bGUsXHJcblx0XHRcdFx0XHRcdHByb2plY3QuZGVzY3JpcHRpb24sXHJcblx0XHRcdFx0XHRcdHByb2plY3QuZHVlRGF0ZSxcclxuXHRcdFx0XHRcdFx0cHJvamVjdC5wcmlvcml0eSxcclxuXHRcdFx0XHRcdFx0cHJvamVjdC5wcm9qZWN0LFxyXG5cdFx0XHRcdFx0XHRwcm9qZWN0LmlkXHJcblx0XHRcdFx0XHQpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodG9kb3MpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyUHJvamVjdHNVSSgpIHtcclxuICAgIGNvbnN0IGNoaWxkcmVuID0gWy4uLmNvbnRhaW5lci5jaGlsZHJlbl07XHJcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICBjaGlsZC5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgeyByZW5kZXJQcm9qZWN0VUksIHJlbmRlclByb2plY3RIZWFkZXIgfTsiLCJpbXBvcnQgeyByZW5kZXJUb2RvIH0gZnJvbSBcIi4vcmVuZGVyVG9kby5qc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50V2l0aENsYXNzIH0gZnJvbSBcIi4vY3JlYXRlRWxlbWVudC5qc1wiO1xyXG5cclxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5mdW5jdGlvbiByZW5kZXJUYXNrc0hlYWRlcih0YXNrSWQpIHtcclxuICBjbGVhclRhc2tzVUkoKTtcclxuICBjb25zdCB0YXNrVGl0bGUgPSBjcmVhdGVFbGVtZW50V2l0aENsYXNzKFwiaDJcIiwgXCJ0YXNrX190aXRsZVwiKTtcclxuICB0YXNrSWQgPT09IFwidG9kYXlcIiA/IHRhc2tUaXRsZS50ZXh0Q29udGVudCA9IFwiRHVlIFRvZGF5XCIgOiB0YXNrVGl0bGUudGV4dENvbnRlbnQgPSB0YXNrSWQ7XHJcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcbiAgY29uc3QgdG9kb3MgPSBjcmVhdGVFbGVtZW50V2l0aENsYXNzKFwic2VjdGlvblwiLCBcInRvZG9zXCIpO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0YXNrVGl0bGUpO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2Rvcyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclRhc2tzVUkodGFza3MpIHtcclxuICB0YXNrcy5tYXAoKHRhc2spID0+IHtcclxuICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgcHJvamVjdCwgaWQgfSA9IHRhc2s7XHJcbiAgICBjb25zdCB0b2RvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb3NcIik7XHJcbiAgICB0b2Rvcy5hcHBlbmRDaGlsZChcclxuICAgICAgcmVuZGVyVG9kbyh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBwcm9qZWN0LCBpZClcclxuICAgICk7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodG9kb3MpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhclRhc2tzVUkoKSB7XHJcbiAgY29uc3QgY2hpbGRyZW4gPSBbLi4uY29udGFpbmVyLmNoaWxkcmVuXTtcclxuICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgY2hpbGQucmVtb3ZlKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IHJlbmRlclRhc2tzVUksIHJlbmRlclRhc2tzSGVhZGVyIH07XHJcbiIsImltcG9ydCB7XHJcbiAgY3JlYXRlRWxlbWVudFdpdGhDbGFzcyxcclxuICBjcmVhdGVJbnB1dEVsZW1lbnQsXHJcbiAgY3JlYXRlVGV4dEVsZW1lbnRXaXRoQ2xhc3MsXHJcbn0gZnJvbSBcIi4vY3JlYXRlRWxlbWVudFwiO1xyXG5cclxubGV0IGNvdW50ID0gMDtcclxuXHJcbmZ1bmN0aW9uIHNob3dJbmJveCh0b2Rvcykge1xyXG4gIGNsZWFySW5ib3hVSSgpO1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xyXG4gIGNvbnN0IHRpdGxlID0gY3JlYXRlVGV4dEVsZW1lbnRXaXRoQ2xhc3MoXCJoMlwiLCBcImluYm94X190aXRsZVwiLCBcIkluYm94XCIpO1xyXG4gIGlmICh0b2Rvcy5sZW5ndGggPT09IDApIHtcclxuICAgIGNvbnN0IHN0YXR1cyA9IGRvY3VtZW50LmNyZWF0ZVRleHRFbGVtZW50V2l0aENsYXNzKFxyXG4gICAgICBcInBcIixcclxuICAgICAgXCJpbmJveF9fc3RhdHVzXCIsXHJcbiAgICAgIFwiWW91ciBpbmJveCBpcyBlbXB0eVwiXHJcbiAgICApO1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0dXMpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0b2Rvcy5tYXAoKHRvZG8pID0+IHtcclxuICAgICAgY29uc3QgaW5ib3ggPSBjcmVhdGVFbGVtZW50V2l0aENsYXNzKFwiZGl2XCIsIFwiaW5ib3hcIik7XHJcbiAgICAgIGNvbnN0IHN1YmplY3QgPSBjcmVhdGVFbGVtZW50V2l0aENsYXNzKFwicFwiLCBcImluYm94X19zdWJqZWN0XCIpO1xyXG4gICAgICBzdWJqZWN0LnRleHRDb250ZW50ID0gXCJZb3UgaGF2ZSBhIHRhc2sgdGhhdCdzIGR1ZSB0b2RheVwiO1xyXG4gICAgICBjb25zdCBjaGVja2JveCA9IGNyZWF0ZUlucHV0RWxlbWVudChcclxuICAgICAgICBcImlucHV0XCIsXHJcbiAgICAgICAgXCJjaGVja2JveFwiLFxyXG4gICAgICAgIFwiY2hlY2tib3hcIixcclxuICAgICAgICBcImNoZWNrYm94XCJcclxuICAgICAgKTtcclxuICAgICAgaW5ib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzaG93TWVzc2FnZSh0b2RvLCBzdWJqZWN0LnRleHRDb250ZW50LCB0b2Rvcyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpbmJveC5hcHBlbmRDaGlsZChjaGVja2JveCk7XHJcbiAgICAgIGluYm94LmFwcGVuZENoaWxkKHN1YmplY3QpO1xyXG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5ib3gpO1xyXG4gICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY29udGFpbmVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93TWVzc2FnZSh0b2RvLCBzdWJqZWN0LCB0b2Rvcykge1xyXG4gICAgY29uc29sZS5sb2coc3ViamVjdCk7XHJcbiAgY2xlYXJJbmJveFVJKCk7XHJcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcbiAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoXCJkaXZcIiwgXCJtZXNzYWdlX19jb250YWluZXJcIik7XHJcbiAgY29uc3QgbWVzc2FnZVN1YmplY3QgPSBjcmVhdGVUZXh0RWxlbWVudFdpdGhDbGFzcyhcclxuICAgIFwiaDNcIixcclxuICAgIFwibWVzc2FnZV9fc3ViamVjdFwiLFxyXG4gICAgc3ViamVjdFxyXG4gICk7XHJcbiAgY29uc3QgbWVzc2FnZVRpdGxlID0gY3JlYXRlVGV4dEVsZW1lbnRXaXRoQ2xhc3MoXHJcbiAgICBcInBcIixcclxuICAgIFwibWVzc2FnZV9fdGl0bGVcIixcclxuICAgIHRvZG8udGl0bGVcclxuICApO1xyXG4gIGNvbnN0IG1lc3NhZ2VQcmlvcml0eSA9IGNyZWF0ZVRleHRFbGVtZW50V2l0aENsYXNzKFxyXG4gICAgXCJwXCIsXHJcbiAgICBcIm1lc3NhZ2VfX3ByaW9yaXR5XCIsXHJcbiAgICB0b2RvLnByaW9yaXR5XHJcbiAgKTtcclxuICBjb25zdCBtZXNzYWdlRHVlRGF0ZSA9IGNyZWF0ZVRleHRFbGVtZW50V2l0aENsYXNzKFxyXG4gICAgXCJwXCIsXHJcbiAgICBcIm1lc3NhZ2VfX2RhdGVcIixcclxuICAgIHRvZG8uZHVlRGF0ZVxyXG4gICk7XHJcbiAgY29uc3QgbWVzc2FnZURlc2NyaXB0aW9uID0gY3JlYXRlVGV4dEVsZW1lbnRXaXRoQ2xhc3MoXHJcbiAgICBcInBcIixcclxuICAgIFwibWVzc2FnZV9fZGVzY3JpcHRpb25cIixcclxuICAgIHRvZG8uZGVzY3JpcHRpb25cclxuICApO1xyXG4gIGNvbnN0IGJhY2tUb0luYm94ID0gY3JlYXRlVGV4dEVsZW1lbnRXaXRoQ2xhc3MoXHJcbiAgICBcImJ1dHRvblwiLFxyXG4gICAgXCJpbmJveF9fYnV0dG9uXCIsXHJcbiAgICBcIkJhY2sgVG8gSW5ib3hcIlxyXG4gICAgKTtcclxuICAgIGJhY2tUb0luYm94LmNsYXNzTGlzdC5hZGQoXCJidXR0b25cIik7XHJcbiAgICBiYWNrVG9JbmJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNob3dJbmJveCh0b2Rvcyk7XHJcbiAgICB9KTtcclxuICBtZXNzYWdlLmFwcGVuZENoaWxkKG1lc3NhZ2VTdWJqZWN0KTtcclxuICBtZXNzYWdlLmFwcGVuZENoaWxkKG1lc3NhZ2VUaXRsZSk7XHJcbiAgbWVzc2FnZS5hcHBlbmRDaGlsZChtZXNzYWdlUHJpb3JpdHkpO1xyXG4gIG1lc3NhZ2UuYXBwZW5kQ2hpbGQobWVzc2FnZUR1ZURhdGUpO1xyXG4gIG1lc3NhZ2UuYXBwZW5kQ2hpbGQobWVzc2FnZURlc2NyaXB0aW9uKTtcclxuICBtZXNzYWdlLmFwcGVuZENoaWxkKGJhY2tUb0luYm94KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQobWVzc2FnZSk7XHJcbiAgdXBkYXRlSW5ib3hDb3VudChcInN1YnRyYWN0XCIpO1xyXG4gIHJldHVybiBjb250YWluZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFySW5ib3hVSSgpIHtcclxuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuICBjb25zdCBjaGlsZHJlbiA9IFsuLi5jb250YWluZXIuY2hpbGRyZW5dO1xyXG4gIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICBjaGlsZC5yZW1vdmUoKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlSW5ib3hDb3VudChzdGF0dXMpIHtcclxuICBjb25zdCBiYWNrZ3JvdW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJudW1iZXJcIik7XHJcbiAgY29uc3QgY291bnRVSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRcIik7XHJcbiAgaWYgKHN0YXR1cyA9PT0gXCJhZGRcIikge1xyXG4gICAgY291bnQrKztcclxuICAgIGNvdW50VUkudGV4dENvbnRlbnQgPSBjb3VudDtcclxuICAgIGJhY2tncm91bmQuY2xhc3NMaXN0LmFkZChcIm51bWJlclwiKTtcclxuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gXCJzdWJ0cmFjdFwiKSB7XHJcbiAgICBjb3VudC0tO1xyXG4gICAgaWYgKGNvdW50IDwgMSkge1xyXG4gICAgICBjb3VudCA9PT0gMDtcclxuICAgICAgY291bnRVSS50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgIGJhY2tncm91bmQuY2xhc3NMaXN0LnJlbW92ZShcIm51bWJlclwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvdW50VUkudGV4dENvbnRlbnQgPSBjb3VudDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IHNob3dJbmJveCwgdXBkYXRlSW5ib3hDb3VudCB9O1xyXG4iLCJpbXBvcnQgeyBzb3J0VG9kb3NCeVByb2plY3QsIHNob3dBbGxUYXNrcywgc29ydFRvZG9zQnlUYXNrLCBnZXRJbmJveCB9IGZyb20gXCIuL3RvZG8uanNcIjtcclxuaW1wb3J0IHsgc2hvd0luYm94IH0gZnJvbSBcIi4vaW5ib3guanNcIjtcclxuXHJcblxyXG5jb25zdCBzaWRlYmFyRGl2cyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNpZGViYXJfX2xpbmtcIildO1xyXG5jb25zdCB3b3JrTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid29ya1wiKTtcclxuY29uc3QgaG9tZUxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhvbWVcIik7XHJcbmNvbnN0IG1pc2NMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNjZWxsYW5lb3VzXCIpO1xyXG5cclxuZnVuY3Rpb24gYWRkU2lkZWJhckV2ZW50cygpIHtcclxuXHRjb25zdCBhbGxUYXNrcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWxsXCIpO1xyXG5cdGNvbnN0IHRvZGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2RheVwiKTtcclxuXHRjb25zdCB1cGNvbWluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXBjb21pbmdcIik7XHJcblx0Y29uc3Qgb3ZlcmR1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3ZlcmR1ZVwiKTtcclxuXHJcblx0YWxsVGFza3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNob3dBbGxUYXNrcyk7XHJcblx0dG9kYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNvcnRUb2Rvc0J5VGFzayk7XHJcblx0dXBjb21pbmcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNvcnRUb2Rvc0J5VGFzayk7XHJcblx0b3ZlcmR1ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc29ydFRvZG9zQnlUYXNrKTtcclxuXHJcblx0d29ya0xpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNvcnRUb2Rvc0J5UHJvamVjdCk7XHJcblx0aG9tZUxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNvcnRUb2Rvc0J5UHJvamVjdCk7XHJcblx0bWlzY0xpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNvcnRUb2Rvc0J5UHJvamVjdCk7XHJcblxyXG5cdGNvbnN0IGluZGV4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmJveFwiKTtcclxuXHRpbmRleC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ2V0SW5ib3gpO1xyXG5cclxuXHRzaWRlYmFyRGl2cy5tYXAoKGRpdikgPT4ge1xyXG4gICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIG9wZW5TdWJNZW51KGUpO1xyXG5cdH0pO1xyXG59KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3BlblN1Yk1lbnUoZSkge1xyXG4gICAgY29uc3QgZGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19kaXNwbGF5XCIpO1xyXG5cdGRpc3BsYXkudGV4dENvbnRlbnQgPSBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pZDtcclxuXHRyZW1vdmVBY3RpdmVMaW5rcyhlKTtcclxuXHRjbG9zZVN1Yk1lbnVzKCk7XHJcblx0aWYgKGUuY3VycmVudFRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcclxuXHRcdGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG5cdFx0ZS5jdXJyZW50VGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKFwic2hvd1N1YlwiKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVBY3RpdmVMaW5rcygpIHtcclxuXHRzaWRlYmFyRGl2cy5tYXAoKGRpdikgPT4ge1xyXG5cdFx0ZGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlU3ViTWVudXMoKSB7XHJcblx0Y29uc3Qgc3VibWVudXMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaWRlYmFyX19zdWJsaW5rc1wiKV07XHJcblx0c3VibWVudXMubWFwKChtZW51KSA9PiB7XHJcblx0XHRpZiAobWVudS5jbGFzc0xpc3QuY29udGFpbnMoXCJzaG93U3ViXCIpKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG1lbnUuY2xhc3NMaXN0LnJlbW92ZShcInNob3dTdWJcIik7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGFkZFNpZGViYXJFdmVudHMgfTtcclxuIiwiaW1wb3J0IHByb2ZpbGUgZnJvbSBcIi4uL2Fzc2V0cy91c2VyLnBuZ1wiO1xyXG5cclxuZnVuY3Rpb24gYWRkSGVhZGVyRXZlbnRzKCkge1xyXG5cdGNvbnN0IGhhbWJ1cmdlckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGFtYnVyZ2VyXCIpO1xyXG5cdGNvbnN0IHByb2ZpbGVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9faW1hZ2VcIik7XHJcbiAgICBjb25zdCB1cGxvYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltZ1VwbG9hZFwiKTtcclxuICAgIGFkZFByb2ZpbGVQbGFjZWhvbGRlcihwcm9maWxlQ29udGFpbmVyKTtcclxuXHJcblx0aGFtYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVNpZGViYXIpO1xyXG5cdHVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHJlYWRVcmwpO1xyXG5cdHByb2ZpbGVDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHVwbG9hZFBpYyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFByb2ZpbGVQbGFjZWhvbGRlcihwcm9maWxlQ29udGFpbmVyKSB7XHJcbiAgICBwcm9maWxlQ29udGFpbmVyLmNoaWxkcmVuWzBdLnNyYyA9IHByb2ZpbGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlU2lkZWJhcigpIHtcclxuXHRjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyXCIpO1xyXG5cdHNpZGViYXIuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGVcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwbG9hZFBpYygpIHtcclxuXHRjb25zdCBoZWFkZXJVcGxvYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fdXBsb2FkXCIpO1xyXG5cdGhlYWRlclVwbG9hZC5jbGFzc0xpc3QudG9nZ2xlKFwidmlzaWJsZVwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZFVybCgpIHtcclxuXHRjb25zdCBwcm9maWxlUGljID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9maWxlXCIpO1xyXG5cdGNvbnN0IHByb2ZpbGVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9faW1hZ2VcIik7XHJcblx0aWYgKHRoaXMuZmlsZXMpIHtcclxuXHRcdGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTCh0aGlzLmZpbGVzWzBdKTtcclxuXHRcdHJlYWRlci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XHJcblx0XHRcdHByb2ZpbGVQaWMuc3JjID0gcmVhZGVyLnJlc3VsdDtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRwcm9maWxlQ29udGFpbmVyLmNsaWNrKCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGFkZEhlYWRlckV2ZW50cyB9O1xyXG4iLCJcclxuaW1wb3J0IFwiLi9zdHlsZXMvc3R5bGUuc2Nzc1wiO1xyXG5pbXBvcnQgeyBhZGRTaWRlYmFyRXZlbnRzIH0gZnJvbSBcIi4vc2NyaXB0cy9zaWRlYmFyLmpzXCI7XHJcbmltcG9ydCB7IGFkZEhlYWRlckV2ZW50cyB9IGZyb20gXCIuL3NjcmlwdHMvaGVhZGVyLmpzXCI7XHJcbmltcG9ydCB7IHJlbmRlck1vZGFsIH0gZnJvbSBcIi4vc2NyaXB0cy9tb2RhbC5qc1wiO1xyXG5pbXBvcnQgeyBhZGRCdXR0b25FdmVudHMgfSBmcm9tIFwiLi9zY3JpcHRzL21vZGFsLmpzXCI7XHJcblxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICAgIGFkZFNpZGViYXJFdmVudHMoKTtcclxuICAgIGFkZEhlYWRlckV2ZW50cygpO1xyXG4gICAgLy8gY29uc3QgbW9kYWwgPSByZW5kZXJNb2RhbCgpO1xyXG4gICAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7XHJcbiAgICBhZGRCdXR0b25FdmVudHMoKTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9yZW5kZXIgbWFpbiBjb250ZW50IGNvbnRhaW5lclxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiZ2V0VG9kYXlzRGF0ZSIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwidG9nZ2xlTW9kYWwiLCJtb2RhbCIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JtIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVzZXQiLCJjcmVhdGVFbGVtZW50V2l0aENsYXNzIiwidHlwZSIsImNsYXNzTmFtZSIsImVsIiwiY3JlYXRlRWxlbWVudCIsImFkZCIsImNyZWF0ZVRleHRFbGVtZW50V2l0aENsYXNzIiwidGV4dCIsInRleHRDb250ZW50IiwiY3JlYXRlRWxlbWVudFdpdGhBdHRyaWJ1dGUiLCJhdHRyIiwiYXR0ck5hbWUiLCJzZXRBdHRyaWJ1dGUiLCJyZW5kZXJUb2RvIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImRhdGUiLCJwcmlvcml0eSIsInByb2plY3QiLCJpZCIsInRvZG9fX2NvbnRhaW5lciIsInRvZG8iLCJ0b2RvX19kYXRlIiwiZGF0ZTEiLCJhcHBlbmRDaGlsZCIsInRvZG9fX2NvbnRlbnQiLCJ0b2RvX190aXRsZSIsInRvZG9fX3ByaW9yaXR5IiwicHJpb3JpdHkxIiwidG9kb19fYnV0dG9ucyIsInRvZG9fX21vcmUiLCJtb3JlQnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNob3dEZXRhaWxzIiwidG9kb19fZWRpdCIsImVkaXRCdG4iLCJlZGl0VG9kbyIsInRvZG9fX2RlbGV0ZSIsImRlbGV0ZUJ0biIsImRlbGV0ZVRvZG9VSSIsImFwcGVuZCIsInRvZG9fX3Byb2plY3QiLCJ0b2RvX19kZXRhaWxzIiwidG9kb19fZGVzY3JpcHRpb24iLCJjdXJyZW50VGFyZ2V0IiwicGFyZW50RWxlbWVudCIsIm5leHRFbGVtZW50U2libGluZyIsInRvZG9zIiwicmVtb3ZlQ2hpbGQiLCJkYXRhc2V0IiwiZm9yRWFjaCIsImluZGV4IiwiZ2V0SWQiLCJOdW1iZXIiLCJzcGxpY2UiLCJnZXRFbGVtZW50QnlJZCIsInRvZG8yIiwibWF0Y2giLCJwdXNoIiwiZ2V0VG9kb0J5SWQiLCJlbGVtZW50cyIsIm5hbWVkSXRlbSIsInZhbHVlIiwiZ2V0VGl0bGUiLCJnZXREZXNjcmlwdGlvbiIsImdldFByaW9yaXR5IiwiZ2V0UHJvamVjdCIsImdldER1ZURhdGUiLCJ1cGRhdGVCdG4iLCJyZW1vdmUiLCJkaXNwbGF5IiwidXBkYXRlVG9kbyIsInVwZGF0ZVRvZG9VSSIsInByb2plY3RUeXBlIiwibWlzYyIsImhvbWUiLCJ3b3JrIiwiY2xpY2siLCJjb250YWluZXIiLCJjbGVhclByb2plY3RzVUkiLCJjaGlsZHJlbiIsImNoaWxkIiwicmVuZGVyVGFza3NIZWFkZXIiLCJ0YXNrSWQiLCJ0YXNrVGl0bGUiLCJyZW5kZXJUYXNrc1VJIiwidGFza3MiLCJtYXAiLCJ0YXNrIiwiZHVlRGF0ZSIsImNvdW50Iiwic2hvd0luYm94IiwiY2xlYXJJbmJveFVJIiwic3RhdHVzIiwiaW5ib3giLCJzdWJqZWN0IiwiY2hlY2tib3giLCJuYW1lIiwiY3JlYXRlSW5wdXRFbGVtZW50IiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJtZXNzYWdlU3ViamVjdCIsIm1lc3NhZ2VUaXRsZSIsIm1lc3NhZ2VQcmlvcml0eSIsIm1lc3NhZ2VEdWVEYXRlIiwibWVzc2FnZURlc2NyaXB0aW9uIiwiYmFja1RvSW5ib3giLCJ1cGRhdGVJbmJveENvdW50Iiwic2hvd01lc3NhZ2UiLCJiYWNrZ3JvdW5kIiwiY291bnRVSSIsIlRvZG9zIiwiY29uc3RydWN0b3IiLCJzZXRUaXRsZSIsInNldERlc2NyaXB0aW9uIiwic2V0RHVlRGF0ZSIsInNldFByaW9yaXR5Iiwic2V0UHJvamVjdCIsInNldElkIiwic29ydFRvZG9zQnlQcm9qZWN0Iiwic29ydGVkQnlQcm9qZWN0IiwiZmlsdGVyIiwicHJvcCIsInByb2plY3RJZCIsInByb2plY3RUaXRsZSIsInJlbmRlclByb2plY3RIZWFkZXIiLCJzb3J0VG9kb3NCeVRhc2siLCJzb3J0ZWRUb2RvcyIsInNob3dBbGxUYXNrcyIsImdldEluYm94Iiwic2lkZWJhckRpdnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwid29ya0xpbmsiLCJob21lTGluayIsIm1pc2NMaW5rIiwiY2xvc2VTaWRlYmFyIiwidXBsb2FkUGljIiwicmVhZFVybCIsInByb2ZpbGVQaWMiLCJwcm9maWxlQ29udGFpbmVyIiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsInJlc3VsdCIsImFsbFRhc2tzIiwidG9kYXkiLCJ1cGNvbWluZyIsIm92ZXJkdWUiLCJkaXYiLCJtZW51IiwiY29udGFpbnMiLCJvcGVuU3ViTWVudSIsImFkZFNpZGViYXJFdmVudHMiLCJoYW1idXJnZXJCdG4iLCJ1cGxvYWQiLCJhZGRQcm9maWxlUGxhY2Vob2xkZXIiLCJhZGRIZWFkZXJFdmVudHMiLCJhZGRCdG4iLCJjcmVhdGVCdG4iLCJjbG9zZUJ0biIsInByZXZlbnREZWZhdWx0IiwidGl0bGVFcnJvciIsIm1lc3NhZ2VFcnJvciIsImRhdGVFcnJvciIsInRyaW0iLCJzZXRUaW1lb3V0IiwiTWF0aCIsInJhbmRvbSIsIm5ld1RvZG8iLCJwb3B1bGF0ZVRvZG8iLCJ2YWxpZGF0ZUZvcm0iLCJhZGRCdXR0b25FdmVudHMiXSwic291cmNlUm9vdCI6IiJ9